
												#--AVISO!!!--#
#########################################################################################################################
#SE ESTIVER RODANDO PELA PRIMEIRA VEZ DESCOMENTE AS LINHAS 8 E 9, E COMENTE AS LINHAS 15 E 17. CERTIFIQUE-SE DE QUE NÃO #
#EXISTE NENHUM BANCO DE DADOS COM O NOME DE TASKEN CASO O CONTRÁRIO ELE SERÁ DELETADO SE NÃO HOUVER NENHUMA RESTRIÇÃO.  #
#########################################################################################################################

#DROP DATABASE TASKEN;
#CREATE DATABASE TASKEN;

SHOW DATABASES;

USE TASKEN;

DROP TABLE PHONES;
DROP TABLE CLIENTS;

CREATE TABLE CLIENTS (
	CPF varchar(11) PRIMARY KEY,
	NAME varchar(100), 
    AGE TINYINT unsigned
);
CREATE TABLE PHONES (
	CPF_CLIENT varchar(11),
	FOREIGN KEY (CPF_CLIENT) REFERENCES CLIENTS(CPF) ON DELETE CASCADE,
    DDD CHAR(2),
	PHONE_NUMBER varchar(15)
);

SHOW TABLES;

SELECT * FROM CLIENTS, PHONES;

INSERT INTO CLIENTS (CPF, NAME, AGE) VALUES ("96884293764", "Greibiston da Silva", 27);
INSERT INTO CLIENTS (CPF, NAME, AGE) VALUES ("97253155700", "Crécio Barbosa", 22);
INSERT INTO CLIENTS (CPF, NAME, AGE) VALUES ("55460196701", "Pafúncio Pereira Santos", 16);
INSERT INTO CLIENTS (CPF, NAME, AGE) VALUES ("63654945724", "Xanfrinildo Baguete", 26);
INSERT INTO CLIENTS (CPF, NAME, AGE) VALUES ("31313704750", "Walderneia Conceição Tocante", 12);
INSERT INTO CLIENTS (CPF, NAME, AGE) VALUES ("49928874735", "Santo Evranderson de Souza Budapeste", 48);
INSERT INTO CLIENTS (CPF, NAME, AGE) VALUES ("07062205796", "Izaleia dos Santos Benedita", 11);


INSERT INTO PHONES (CPF_CLIENT, DDD, PHONE_NUMBER) VALUES ("96884293764", "11", "12345678");
INSERT INTO PHONES (CPF_CLIENT, DDD, PHONE_NUMBER) VALUES ("96884293764", "22", "98765432");
INSERT INTO PHONES (CPF_CLIENT, DDD, PHONE_NUMBER) VALUES ("96884293764", "11", "12345678");
INSERT INTO PHONES (CPF_CLIENT, DDD, PHONE_NUMBER) VALUES ("97253155700", "33", "55551234");
INSERT INTO PHONES (CPF_CLIENT, DDD, PHONE_NUMBER) VALUES ("97253155700", "44", "87654321");
INSERT INTO PHONES (CPF_CLIENT, DDD, PHONE_NUMBER) VALUES ("55460196701", "55", "23456789");
INSERT INTO PHONES (CPF_CLIENT, DDD, PHONE_NUMBER) VALUES ("55460196701", "66", "78901234");
INSERT INTO PHONES (CPF_CLIENT, DDD, PHONE_NUMBER) VALUES ("55460196701", "77", "34567890");
INSERT INTO PHONES (CPF_CLIENT, DDD, PHONE_NUMBER) VALUES ("63654945724", "88", "65432109");
INSERT INTO PHONES (CPF_CLIENT, DDD, PHONE_NUMBER) VALUES ("31313704750", "99", "43210987");
INSERT INTO PHONES (CPF_CLIENT, DDD, PHONE_NUMBER) VALUES ("31313704750", "00", "12345670");

SELECT * FROM CLIENTS, PHONES;

SELECT NAME FROM CLIENTS WHERE AGE >= 22 ORDER BY AGE ASC;

SELECT NAME, COUNT(P.PHONE_NUMBER) FROM CLIENTS AS C JOIN PHONES AS P WHERE C.CPF = P.CPF_CLIENT GROUP BY C.NAME;

DELETE P, C FROM PHONES AS P INNER JOIN CLIENTS AS C ON P.CPF_CLIENT = C.CPF WHERE C.NAME LIKE '% Santos' OR C.NAME LIKE '% Santos %';

SELECT * FROM CLIENTS AS C JOIN PHONES AS P WHERE C.CPF = P.CPF_CLIENT; 

